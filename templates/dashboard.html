{% extends "base.html" %}

{% block content %}
<!-- Status Bar -->
<div id="status-bar"
     hx-get="/partials/status_bar"
     hx-trigger="load, every 5s"
     hx-swap="outerHTML">
</div>

<!-- Main 3-Zone Layout -->
<div class="flex-1 grid grid-cols-[0.2fr_0.5fr_0.3fr] min-h-screen gap-1 p-1">
    
    <!-- Zone C: Digital Audit / Live Traffic Log (LEFT - 20%) -->
    <div class="bg-[#0a0a0a] border border-gray-800 rounded-lg p-4 overflow-hidden flex flex-col">
        <div id="traffic-log"
             hx-get="/partials/traffic_log"
             hx-trigger="load, every 3s"
             hx-swap="outerHTML">
        </div>
    </div>
    
    <!-- Zone A: Live Camera Feed (CENTER - 50%) -->
    <div class="bg-[#0a0a0a] border border-gray-800 rounded-lg overflow-hidden relative">
        <!-- Video Stream -->
        <div class="relative w-full h-full">
            <img src="/video_feed" 
                 alt="Live Camera Feed" 
                 class="w-full h-full object-cover">
            
            <!-- HUD Overlay -->
            <div class="absolute inset-0 pointer-events-none">
                <!-- Corner Brackets -->
                <div class="absolute top-2 left-2 w-8 h-8 border-t-2 border-l-2 border-[#00FF41] opacity-60"></div>
                <div class="absolute top-2 right-2 w-8 h-8 border-t-2 border-r-2 border-[#00FF41] opacity-60"></div>
                <div class="absolute bottom-2 left-2 w-8 h-8 border-b-2 border-l-2 border-[#00FF41] opacity-60"></div>
                <div class="absolute bottom-2 right-2 w-8 h-8 border-b-2 border-r-2 border-[#00FF41] opacity-60"></div>
                
                <!-- Center Crosshair -->
                <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
                    <div class="w-16 h-0.5 bg-[#00FF41] opacity-40"></div>
                    <div class="h-16 w-0.5 bg-[#00FF41] opacity-40 -mt-8 ml-8"></div>
                </div>
                
                <!-- Scanning Animation -->
                <div class="absolute top-4 left-1/2 transform -translate-x-1/2">
                    <div class="font-mono text-xs text-[#00FF41] animate-pulse">SCANNING...</div>
                </div>
                
                <!-- Scanning Bar -->
                <div class="absolute left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-[#00FF41] to-transparent opacity-60 scanning-bar"></div>
            </div>
        </div>
    </div>
    
    <!-- Zone B: Decision Engine (RIGHT - 30%) -->
    <div class="bg-[#0a0a0a] border border-gray-800 rounded-lg p-4 overflow-hidden flex flex-col">
        <div id="decision-panel"
             hx-get="/partials/decision_panel"
             hx-trigger="load, every 1s"
             hx-swap="outerHTML">
        </div>
    </div>
    
</div>

<!-- Hardware Stats Bar (Bottom) -->
<div class="bg-[#0a0a0a] border-t border-gray-800 px-4 py-2">
    <div class="font-mono text-xs text-gray-400 flex justify-between">
        <span>CPU: 12%</span>
        <span>MEM: 4GB</span>
        <span>NPU: ACTIVE</span>
        <span>CAMERA: ONLINE</span>
    </div>
</div>
{% endblock %}


